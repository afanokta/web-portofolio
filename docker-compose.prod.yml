version: "3.8"

services:
  web:
    image: ghcr.io/afanokta/web-porto:latest
    container_name: web-porto
    restart: unless-stopped
    ports:
      - "80:80"
      - "443:443"
    # Remove nginx.conf volume mount - use the one built into the image
    # volumes:
    #   - ./nginx.conf:/etc/nginx/conf.d/default.conf:ro
    # Environment variables for the container
    environment:
      - NODE_ENV=production
      # Add your environment variables here
      # - PUBLIC_API_URL=${PUBLIC_API_URL:-https://api.example.com}
      # - API_KEY=${API_KEY}
    # Or use an env_file (create .env file on VPS)
    # env_file:
    #   - .env
    networks:
      - web-network

networks:
  web-network:
    driver: bridge
